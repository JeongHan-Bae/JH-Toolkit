<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JH-Toolkit: jh::weak_ptr_hash&lt; T &gt; Struct Template Reference</title>
<link rel="icon" href="Jindallae.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Oree.svg"/></td>
  <td id="projectalign">
   <div id="projectname">JH-Toolkit<span id="projectnumber">&#160;v1.4.0</span>
   </div>
   <div id="projectbrief">An engineering-oriented C++20 toolkit with duck-typed concepts, static design, async coroutines, and semantic containers — header-only, RTTI-free, and concurrency-friendly.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('structjh_1_1weak__ptr__hash.html','','structjh_1_1weak__ptr__hash-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">jh::weak_ptr_hash&lt; T &gt; Struct Template Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Content-based hash functor for <code>std::weak_ptr&lt;T&gt;</code>.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">jh/concurrent/observe_pool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a098dc00002ed94745d96ee4264f128c9" id="r_a098dc00002ed94745d96ee4264f128c9"><td class="memItemLeft"><a id="a098dc00002ed94745d96ee4264f128c9" name="a098dc00002ed94745d96ee4264f128c9"></a>
std::size_t&#160;</td><td class="memItemRight"><b>operator()</b> (const std::weak_ptr&lt; T &gt; &amp;ptr) const noexcept</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T&gt;<br />
requires <a class="el" href="conceptjh_1_1concepts_1_1extended__hashable.html">jh::concepts::extended_hashable</a>&lt;T&gt;<br />
struct jh::weak_ptr_hash&lt; T &gt;</div><p>Content-based hash functor for <code>std::weak_ptr&lt;T&gt;</code>. </p>
<h3>Behavior</h3>
<ul>
<li>
If the pointer is expired, returns <span class="tt">0</span>. </li>
<li>
If valid, locks and applies the unified <code><a class="el" href="structjh_1_1hash.html" title="Behaviorally deduced hash functor.">jh::hash&lt;T&gt;</a></code> functor to the underlying object. </li>
<li>
Ensures consistent results during concurrent insertion into a <code><a class="el" href="namespacejh.html#abc89d1d2a2d84b2aba124fe8d9ee1d7b" title="Duck-typed alias of jh::conc::pointer_pool for content-based pooling of immutable objects.">jh::observe_pool</a></code> by performing a single well-defined hash access per locked instance. </li>
</ul>
<h3>Purpose</h3>
<p>Enables <code><a class="el" href="namespacejh.html#abc89d1d2a2d84b2aba124fe8d9ee1d7b" title="Duck-typed alias of jh::conc::pointer_pool for content-based pooling of immutable objects.">jh::observe_pool</a></code> and <code><a class="el" href="classjh_1_1conc_1_1pointer__pool.html" title="Weak pointer-observed pool for immutable or structurally immutable objects.">jh::conc::pointer_pool</a></code> to hash weakly referenced shared objects by logical content, without altering ownership or extending object lifetimes. </p>
<h3>Version Note (since 1.3.5)</h3>
<p>Starting with <b>1.3.5</b>, <code><a class="el" href="structjh_1_1weak__ptr__hash.html" title="Content-based hash functor for std::weak_ptr&lt;T&gt;.">weak_ptr_hash&lt;T&gt;</a></code> supports <em>automatic hash deduction</em> through <code><a class="el" href="structjh_1_1hash.html" title="Behaviorally deduced hash functor.">jh::hash&lt;T&gt;</a></code>, which transparently resolves hashing via the following precedence chain: </p>
<pre><span class="tt">
std::hash&lt;T&gt;{ }(v)
  &gt;  hash(v)
  &gt;  v.hash()
</span></pre><p>This allows any type declaring a valid hash mechanism — standard, ADL-based, or member-based — to participate in pooling without the need for custom specialization. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The managed type, which must satisfy <code><a class="el" href="conceptjh_1_1concepts_1_1extended__hashable.html" title="Concept for types that can be hashed through any supported mechanism.">jh::concepts::extended_hashable</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="conceptjh_1_1concepts_1_1extended__hashable.html" title="Concept for types that can be hashed through any supported mechanism.">jh::concepts::extended_hashable</a> </dd>
<dd>
<a class="el" href="structjh_1_1hash.html" title="Behaviorally deduced hash functor.">jh::hash</a> </dd></dl>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/jh/concurrent/<a class="el" href="">observe_pool.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
</div> <!-- top -->
<hr class="footer"/>
<div class="footer">
    <img class="footer-logo" src="Ojing.svg" alt="Ojing"/>
    <div class="footer-text">
        JH-Toolkit v1.4.0 · Generated by Doxygen
    </div>
    <div class="footer-note">
        We primarily support embedded documentation views in IDEs (classic CLion).
        To ensure compatibility with embedded rendering, some example code in this
        documentation intentionally contains HTML entities.
        In certain cases, Doxygen does not unescape these entities correctly.
        This is a known limitation and currently has no workaround.
    </div>
</div>
</body>
</html>
