<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JH-Toolkit: include/jh/conceptual/collectable_container.h File Reference</title>
<link rel="icon" href="Jindallae.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Oree.svg"/></td>
  <td id="projectalign">
   <div id="projectname">JH-Toolkit<span id="projectnumber">&#160;v1.4.0</span>
   </div>
   <div id="projectbrief">An engineering-oriented C++20 toolkit with duck-typed concepts, static design, async coroutines, and semantic containers — header-only, RTTI-free, and concurrency-friendly.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('collectable__container_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">collectable_container.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Compile-time deduction of <em>collectable containers</em> — determining whether and how a container <code>C</code> can accept elements of a range <code>R</code> through incremental, value-preserving insertion.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstdint&gt;</code><br />
<code>#include &quot;<a class="el" href="">jh/conceptual/closable_container.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">jh/conceptual/tuple_like.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-concepts" class="groupheader"><a id="concepts" name="concepts"></a>
Concepts</h2></td></tr>
<tr class="memitem:jh_3A_3Aconcepts_3A_3Acollectable_5Fcontainer_5Ffor" id="r_jh_3A_3Aconcepts_3A_3Acollectable_5Fcontainer_5Ffor"><td class="memItemLeft">concept &#160;</td><td class="memItemRight"><a class="el" href="conceptjh_1_1concepts_1_1collectable__container__for.html">jh::concepts::collectable_container_for</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concept verifying that a container <code>C</code> can collect elements from a range <code>R</code> via incremental insertion. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compile-time deduction of <em>collectable containers</em> — determining whether and how a container <code>C</code> can accept elements of a range <code>R</code> through incremental, value-preserving insertion. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2025 JeongHan-Bae &lt;mastropseudo@gmail.com&gt; <br  />
 Licensed under the Apache License, Version 2.0 (the "License"); <br  />
 you may not use this file except in compliance with the License.<br  />
 You may obtain a copy of the License at<br  />
 <br  />
 <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a><br  />
 <br  />
 Unless required by applicable law or agreed to in writing, software<br  />
 distributed under the License is distributed on an "AS IS" BASIS,<br  />
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br  />
 See the License for the specific language governing permissions and<br  />
 limitations under the License.<br  />
 <br  />
 Full license: <a href="https://github.com/JeongHan-Bae/JH-Toolkit?tab=Apache-2.0-1-ov-file#readme">GitHub</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>JeongHan-Bae <a href="#" onclick="location.href='mai'+'lto:'+'mas'+'tr'+'ops'+'eu'+'do@'+'gm'+'ail'+'.c'+'om'; return false;">&lt;mastropseudo@gmail.com&gt;</a></dd></dl>
<p>This header defines the <b>collectable container model</b>, which forms the foundation of <code><a class="el" href="namespacejh_1_1ranges.html#ae066e3cad87b5bec3c061fc290e8ad73" title="Global instance of the collect adaptor.">jh::ranges::collect</a></code>. It classifies all containers that can <em>materialize</em> data from a range using well-defined insertion semantics, possibly including tuple-like structural unpacking. </p>
<h3>Purpose</h3>
<p>A container is <em>collectable</em> from a range when it can be <b>incrementally populated</b> with the elements of that range, without requiring any external constructor arguments. This mechanism powers <code><a class="el" href="namespacejh_1_1ranges.html#ae066e3cad87b5bec3c061fc290e8ad73" title="Global instance of the collect adaptor.">jh::ranges::collect</a></code>, which performs <b>data materialization and normalization</b> — converting a lazy or proxy-based pipeline into a concrete, value-semantic container. </p>
<p>In contrast, <code><a class="el" href="namespacejh_1_1ranges.html#a722e1bdb5632bc636715eb47ed666b15" title="Global instance of the to adaptor.">jh::ranges::to</a></code> performs <b>container adaptation</b>: it builds the final target container, possibly with allocators, hashers, or custom constructor parameters. Therefore: </p>
<ul>
<li>
<code>collect</code> has <b>no extra arguments</b>; it only materializes and normalizes data. </li>
<li>
<code>to</code> may take constructor arguments and performs the final adaptation step. </li>
<li>
The combination <code>collect + to</code> forms a complete <em>materialization → adaptation</em> pipeline. </li>
</ul>
<h3>Classification</h3>
<p>The <code>collectable_status</code> enumeration defines all supported behaviors: </p>
<ul>
<li>
<b><code>closable</code></b> — the container is directly constructible via <code><a class="el" href="namespacejh_1_1ranges.html#a722e1bdb5632bc636715eb47ed666b15" title="Global instance of the to adaptor.">jh::ranges::to</a></code>. </li>
<li>
<b><code>emplace_back_direct</code></b> — appends elements using <code>emplace_back()</code>. </li>
<li>
<b><code>push_back_direct</code></b> — appends using <code>push_back()</code>. </li>
<li>
<b><code>emplace_direct</code></b> — inserts at logical end using <code>emplace()</code>. </li>
<li>
<b><code>insert_direct</code></b> — inserts at logical end using <code>insert()</code>. </li>
<li>
<b><code>emplace_back_unpack</code></b> — performs tuple-like structural unpacking into <code>emplace_back()</code>. </li>
<li>
<b><code>emplace_unpack</code></b> — performs tuple-like structural unpacking into <code>emplace()</code>. </li>
</ul>
<h3>Design rationale</h3>
<ul>
<li>
<b>Aligned semantics:</b> The four direct forms (<code>emplace_back</code>, <code>push_back</code>, <code>emplace</code>, <code>insert</code>) exactly correspond to the element-wise insertion semantics defined for <code>std::ranges::to</code>, ensuring identical behavior in the incremental case. </li>
<li>
<b>Tuple-aware extension:</b> The unpacking forms extend the capability beyond the standard proposal: <code>collect</code> can destructure tuple-like elements (with <code>std::tuple_size</code>, <code>std::tuple_element</code>, and ADL <code>get()</code>) and reconstruct real value objects directly in-place. </li>
<li>
<b>Non-destructive semantics:</b> No operation may move-from or invalidate the source range; insertion is performed purely by reference traversal. </li>
</ul>
<h3>Unpack constraints</h3>
<p>Unpacking requires the element type to be an <b>explicitly tuple-like</b> type, providing all of: </p>
<ul>
<li>
<code>std::tuple_size&lt;T&gt;</code> </li>
<li>
<code>std::tuple_element&lt;I, T&gt;</code> </li>
<li>
ADL-visible <code>get&lt;I&gt;(T)</code> </li>
</ul>
<p>Arbitrary aggregates or user-defined proxies are not implicitly unpacked, ensuring deterministic behavior and preserving the element's semantic identity. </p>
<h3>Relationship with other modules</h3>
<ul>
<li>
<b><code><a class="el" href="namespacejh_1_1ranges.html#ae066e3cad87b5bec3c061fc290e8ad73" title="Global instance of the collect adaptor.">jh::ranges::collect</a></code></b> — uses this classification to materialize non-closable ranges into stable containers. </li>
<li>
<b><code><a class="el" href="namespacejh_1_1ranges.html#a722e1bdb5632bc636715eb47ed666b15" title="Global instance of the to adaptor.">jh::ranges::to</a></code></b> — skips this classification entirely, performing direct container construction when <code>closable</code>. </li>
<li>
<b><code><a class="el" href="conceptjh_1_1concepts_1_1closable__container__for.html" title="Concept checking whether a container C can be directly constructed (&quot;closed&quot;) from a range R.">jh::concepts::closable_container_for</a></code></b> — represents the complementary "construction-level" concept for <code>to</code>. </li>
</ul>
<h3>Semantic guarantee</h3>
<p>The <code>collectable_container_for</code> concept ensures that <code>collect</code> can <b>safely and deterministically</b> construct a container <code>C</code> from a range <code>R</code> via incremental insertion, matching the observable semantics of <code>std::ranges::to</code> while supporting richer tuple-unpacking behaviors. </p>
<dl class="section note"><dt>Note</dt><dd><code>collect</code> is a <b>materializer</b>, not an adaptor: it normalizes and realizes data into value semantics, but never applies construction arguments. Configuration belongs exclusively to <code>to</code>, allowing <code>collect + to</code> to form a clean, composable, two-stage pipeline.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespacejh_1_1ranges.html#ae066e3cad87b5bec3c061fc290e8ad73" title="Global instance of the collect adaptor.">jh::ranges::collect</a> </dd>
<dd>
<a class="el" href="namespacejh_1_1ranges.html#a722e1bdb5632bc636715eb47ed666b15" title="Global instance of the to adaptor.">jh::ranges::to</a> </dd>
<dd>
<a class="el" href="conceptjh_1_1concepts_1_1closable__container__for.html" title="Concept checking whether a container C can be directly constructed (&quot;closed&quot;) from a range R.">jh::concepts::closable_container_for</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd><pre>1.3.x</pre> </dd></dl>
<dl class="section date"><dt>Date</dt><dd><pre>2025</pre> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
</div> <!-- top -->
<hr class="footer"/>
<div class="footer">
    <img class="footer-logo" src="Ojing.svg" alt="Ojing"/>
    <div class="footer-text">
        JH-Toolkit v1.4.0 · Generated by Doxygen
    </div>
    <div class="footer-note">
        We primarily support embedded documentation views in IDEs (classic CLion).
        To ensure compatibility with embedded rendering, some example code in this
        documentation intentionally contains HTML entities.
        In certain cases, Doxygen does not unescape these entities correctly.
        This is a known limitation and currently has no workaround.
    </div>
</div>
</body>
</html>
