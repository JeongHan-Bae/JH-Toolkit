<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JH-Toolkit: include/jh/asynchronous/generator.h File Reference</title>
<link rel="icon" href="Jindallae.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Oree.svg"/></td>
  <td id="projectalign">
   <div id="projectname">JH-Toolkit<span id="projectnumber">&#160;v1.4.0</span>
   </div>
   <div id="projectbrief">An engineering-oriented C++20 toolkit with duck-typed concepts, static design, async coroutines, and semantic containers — header-only, RTTI-free, and concurrency-friendly.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('generator_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">generator.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Coroutine-based generator system for modern C++20.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;coroutine&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;deque&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;stdexcept&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &quot;<a class="el" href="">jh/conceptual/sequence.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">jh/conceptual/iterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="">jh/typing/monostate.h</a>&quot;</code><br />
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E" id="r_jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E"><td class="memItemLeft">class &#160;</td><td class="memItemRight"><a class="el" href="classjh_1_1async_1_1generator.html">jh::async::generator&lt; T, U &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coroutine-based generator supporting both yielding and receiving values.  <a href="classjh_1_1async_1_1generator.html#details">More...</a><br /></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Aiterator" id="r_jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Aiterator"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structjh_1_1async_1_1generator_1_1iterator.html">jh::async::generator&lt; T, U &gt;::iterator</a></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Apromise_5Ftype" id="r_jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Apromise_5Ftype"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structjh_1_1async_1_1generator_1_1promise__type.html">jh::async::generator&lt; T, U &gt;::promise_type</a></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Apromise_5Ftype_3A_3Aawaiter" id="r_jh_3A_3Aasync_3A_3Agenerator_3C_20T_2C_20U_20_3E_3A_3Apromise_5Ftype_3A_3Aawaiter"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="structjh_1_1async_1_1generator_1_1promise__type_1_1awaiter.html">jh::async::generator&lt; T, U &gt;::promise_type::awaiter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lightweight awaiter used to deliver values sent into the generator via <code>co_await</code>.  <a href="structjh_1_1async_1_1generator_1_1promise__type_1_1awaiter.html#details">More...</a><br /></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_5Frange_3C_20T_20_3E" id="r_jh_3A_3Aasync_3A_3Agenerator_5Frange_3C_20T_20_3E"><td class="memItemLeft">class &#160;</td><td class="memItemRight"><a class="el" href="classjh_1_1async_1_1generator__range.html">jh::async::generator_range&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A range-like wrapper that enables iteration over a generator factory.  <a href="classjh_1_1async_1_1generator__range.html#details">More...</a><br /></td></tr>
<tr class="memitem:jh_3A_3Aasync_3A_3Agenerator_5Frange_3C_20T_20_3E_3A_3Aiterator" id="r_jh_3A_3Aasync_3A_3Agenerator_5Frange_3C_20T_20_3E_3A_3Aiterator"><td class="memItemLeft">class &#160;</td><td class="memItemRight"><a class="el" href="classjh_1_1async_1_1generator__range_1_1iterator.html">jh::async::generator_range&lt; T &gt;::iterator</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a91b3ce49da3a766df2cc5820e813a38b" id="r_a91b3ce49da3a766df2cc5820e813a38b"><td class="memTemplParams" colspan="2">template&lt;concepts::sequence SeqType&gt; </td></tr>
<tr class="memitem:a91b3ce49da3a766df2cc5820e813a38b template"><td class="memItemLeft"><a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; <a class="el" href="namespacejh_1_1concepts.html#a288fd2a9c1ffde90dc5ca09475e9cd3f">concepts::sequence_value_t</a>&lt; SeqType &gt; &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#a91b3ce49da3a766df2cc5820e813a38b">jh::async::make_generator</a> (const SeqType &amp;seq)</td></tr>
<tr class="memdesc:a91b3ce49da3a766df2cc5820e813a38b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a duck-typed <b>sequence-like</b> object into a generator.  <br /></td></tr>
<tr class="memitem:aa0b16783c19998c319f4824b3c199275" id="r_aa0b16783c19998c319f4824b3c199275"><td class="memTemplParams" colspan="2">template&lt;std::ranges::range R&gt; </td></tr>
<tr class="memitem:aa0b16783c19998c319f4824b3c199275 template"><td class="memItemLeft"><a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; std::ranges::range_value_t&lt; R &gt; &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#aa0b16783c19998c319f4824b3c199275">jh::async::make_generator</a> (R &amp;&amp;rng)</td></tr>
<tr class="memdesc:aa0b16783c19998c319f4824b3c199275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a standard <b>range</b> into a generator.  <br /></td></tr>
<tr class="memitem:a17777ad53ec96266cfc3e5d7abe763c8" id="r_a17777ad53ec96266cfc3e5d7abe763c8"><td class="memTemplParams" colspan="2">template&lt;typename T&gt; </td></tr>
<tr class="memitem:a17777ad53ec96266cfc3e5d7abe763c8 template"><td class="memItemLeft">std::vector&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#a17777ad53ec96266cfc3e5d7abe763c8">jh::async::to_vector</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T &gt; &amp;gen)</td></tr>
<tr class="memdesc:a17777ad53ec96266cfc3e5d7abe763c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values from a generator into a <code>std::vector</code>.  <br /></td></tr>
<tr class="memitem:a7ec6dd0540b991ce7452f572b36a89d7" id="r_a7ec6dd0540b991ce7452f572b36a89d7"><td class="memTemplParams" colspan="2">template&lt;typename T, typename U&gt; </td></tr>
<tr class="memitem:a7ec6dd0540b991ce7452f572b36a89d7 template"><td class="memItemLeft">std::vector&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#a7ec6dd0540b991ce7452f572b36a89d7">jh::async::to_vector</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T, U &gt; &amp;gen, U input_value)</td></tr>
<tr class="memdesc:a7ec6dd0540b991ce7452f572b36a89d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values into a <code>std::vector</code> using a fixed input value.  <br /></td></tr>
<tr class="memitem:a76f83d068faeb7ceee06981cbd23b65b" id="r_a76f83d068faeb7ceee06981cbd23b65b"><td class="memTemplParams" colspan="2">template&lt;typename T, std::ranges::range R&gt; </td></tr>
<tr class="memitem:a76f83d068faeb7ceee06981cbd23b65b template"><td class="memItemLeft">std::vector&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#a76f83d068faeb7ceee06981cbd23b65b">jh::async::to_vector</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T, std::ranges::range_value_t&lt; R &gt; &gt; &amp;gen, const R &amp;inputs)</td></tr>
<tr class="memdesc:a76f83d068faeb7ceee06981cbd23b65b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values into a <code>std::vector</code> using a sequence of input values.  <br /></td></tr>
<tr class="memitem:aa136f6ea5f81fa00a4f1bf070cd8ff97" id="r_aa136f6ea5f81fa00a4f1bf070cd8ff97"><td class="memTemplParams" colspan="2">template&lt;typename T&gt; </td></tr>
<tr class="memitem:aa136f6ea5f81fa00a4f1bf070cd8ff97 template"><td class="memItemLeft">std::deque&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#aa136f6ea5f81fa00a4f1bf070cd8ff97">jh::async::to_deque</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T &gt; &amp;gen)</td></tr>
<tr class="memdesc:aa136f6ea5f81fa00a4f1bf070cd8ff97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values from a generator into a <code>std::deque</code>.  <br /></td></tr>
<tr class="memitem:a54ce8192c823f8a506e5939445021d5f" id="r_a54ce8192c823f8a506e5939445021d5f"><td class="memTemplParams" colspan="2">template&lt;typename T, typename U&gt; </td></tr>
<tr class="memitem:a54ce8192c823f8a506e5939445021d5f template"><td class="memItemLeft">std::deque&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#a54ce8192c823f8a506e5939445021d5f">jh::async::to_deque</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T, U &gt; &amp;gen, U input_value)</td></tr>
<tr class="memdesc:a54ce8192c823f8a506e5939445021d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values into a <code>std::deque</code> using a fixed input value.  <br /></td></tr>
<tr class="memitem:aa5fdc95beea735b204f8ddf2d0bf6831" id="r_aa5fdc95beea735b204f8ddf2d0bf6831"><td class="memTemplParams" colspan="2">template&lt;typename T, std::ranges::range R&gt; </td></tr>
<tr class="memitem:aa5fdc95beea735b204f8ddf2d0bf6831 template"><td class="memItemLeft">std::deque&lt; T &gt;&#160;</td><td class="memItemRight"><a class="el" href="namespacejh_1_1async.html#aa5fdc95beea735b204f8ddf2d0bf6831">jh::async::to_deque</a> (<a class="el" href="classjh_1_1async_1_1generator.html">generator</a>&lt; T, std::ranges::range_value_t&lt; R &gt; &gt; &amp;gen, const R &amp;inputs)</td></tr>
<tr class="memdesc:aa5fdc95beea735b204f8ddf2d0bf6831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all yielded values into a <code>std::deque</code> using a sequence of input values.  <br /></td></tr>
<tr class="memitem:a58aa95803840fb814bf92dd4954fb44c" id="r_a58aa95803840fb814bf92dd4954fb44c"><td class="memTemplParams" colspan="2">template&lt;typename F&gt; </td></tr>
<tr class="memitem:a58aa95803840fb814bf92dd4954fb44c template"><td class="memItemLeft">auto&#160;</td><td class="memItemRight"><a class="el" href="namespacejh.html#a58aa95803840fb814bf92dd4954fb44c">jh::to_range</a> (F &amp;&amp;f)</td></tr>
<tr class="memdesc:a58aa95803840fb814bf92dd4954fb44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a generator factory (lambda or function) into a repeatable range.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Coroutine-based generator system for modern C++20. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2025 JeongHan-Bae &lt;mastropseudo@gmail.com&gt; <br  />
 Licensed under the Apache License, Version 2.0 (the "License"); <br  />
 you may not use this file except in compliance with the License.<br  />
 You may obtain a copy of the License at<br  />
 <br  />
 <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a><br  />
 <br  />
 Unless required by applicable law or agreed to in writing, software<br  />
 distributed under the License is distributed on an "AS IS" BASIS,<br  />
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br  />
 See the License for the specific language governing permissions and<br  />
 limitations under the License.<br  />
 <br  />
 Full license: <a href="https://github.com/JeongHan-Bae/JH-Toolkit?tab=Apache-2.0-1-ov-file#readme">GitHub</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>JeongHan-Bae <a href="#" onclick="location.href='mai'+'lto:'+'mas'+'tr'+'ops'+'eu'+'do@'+'gm'+'ail'+'.c'+'om'; return false;">&lt;mastropseudo@gmail.com&gt;</a> </dd></dl>
<h3>Overview</h3>
<p>This header defines <code><a class="el" href="classjh_1_1async_1_1generator.html">jh::async::generator&lt;T, U&gt;</a></code>, a coroutine-based generator inspired by Python's <code>Generator[T, U, R]</code> type. <br  />
 It provides both value-yielding (<code>co_yield</code>) and interactive (<code>send()</code>) semantics while keeping the implementation fully type-safe, constexpr-friendly, and header-only. </p>
<h4>Namespace Design</h4>
<p>This version lives under the <code><a class="el" href="namespacejh_1_1async.html">jh::async</a></code> namespace, to emphasize that the generator is coroutine-based and semantically asynchronous. <br  />
 However, because generator is also a foundational utility, you may include <code>&lt;jh/generator&gt;</code> to import it into <code>jh</code> directly. </p>
<h4>Include Behavior</h4>
<ul>
<li>
<code>#include &lt;<a class="el" href="generator_8h.html" title="Coroutine-based generator system for modern C++20.">jh/asynchronous/generator.h</a>&gt;</code> → defines <code><a class="el" href="classjh_1_1async_1_1generator.html" title="Coroutine-based generator supporting both yielding and receiving values.">jh::async::generator</a></code> </li>
<li>
<code>#include &lt;jh/generator&gt;</code> → also defines <code>jh::generator</code> as alias of <code><a class="el" href="classjh_1_1async_1_1generator.html" title="Coroutine-based generator supporting both yielding and receiving values.">jh::async::generator</a></code> </li>
</ul>
<h4>Design Motivation</h4>
<p>In Python, <code>Generator[T, U, R]</code> expresses three roles: </p><ul>
<li>
<code>T</code> — values <b>yielded</b> by the generator. </li>
<li>
<code>U</code> — values <b>sent</b> into the generator. </li>
<li>
<code>R</code> — the value returned when the generator finishes. </li>
</ul>
<p>However, Python's <code>R</code> is not a true return value — it is part of the coroutine exit mechanism (an exception-based control path). In C++, such behavior can be cleanly modeled using standard exception handling (<span class="tt">try</span>/<span class="tt">catch</span>). Therefore, <b>JH's</b> <code>generator&lt;T, U&gt;</code> intentionally omits <code>R</code> to simplify design and align with idiomatic C++ coroutine semantics. </p>
<h4>Core Concepts</h4>
<ul>
<li>
<p class="startli"><b>Yield type (<code>T</code>)</b> — values produced by <code>co_yield</code>, accessible via <code>generator.value()</code> as <code>std::optional&lt;T&gt;</code>. The optional may be empty if the coroutine has completed.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Await type (<code>U</code>)</b> — values received by <code>co_await</code>, corresponding to inputs provided through <code>send()</code> or <code>send_ite()</code>.</p>
<p class="endli"></p>
</li>
<li>
<b>Return type (<code>R</code>)</b> — intentionally omitted. In Python's <code>Generator[T, U, R]</code> model, <code>R</code> represents a special termination channel, but in C++ it can be naturally handled via <code>try</code>/<code>catch</code> and normal function return semantics. Thus, <code><a class="el" href="classjh_1_1async_1_1generator.html">jh::async::generator&lt;T, U&gt;</a></code> omits <code>R</code> entirely. </li>
</ul>
<h4>Key Features</h4>
<ul>
<li>
Coroutine-based generator with full C++20 support. </li>
<li>
Supports both iterative (<code>next()</code>) and interactive (<code>send()</code>) control. </li>
<li>
Range-compatible iteration for non-input generators (<code>U == monostate</code>). </li>
<li>
Conversion utilities for <code>std::vector</code>, <code>std::deque</code>, and range wrapping. </li>
<li>
Designed for POD-safe, header-only use in low-overhead data pipelines. </li>
</ul>
<h4>Usage Notes</h4>
<ul>
<li>
Generators are <b>single-pass</b> — iteration consumes them. </li>
<li>
Copying is disallowed (coroutine handles are unique and non-shareable). </li>
<li>
Prefer POD or trivially copyable types for best performance. </li>
<li>
<code>U</code> defaults to <code>typed::monostate</code> (no input behavior). </li>
</ul>
<dl class="section version"><dt>Version</dt><dd><pre>1.3.x</pre> </dd></dl>
<dl class="section date"><dt>Date</dt><dd><pre>2025</pre> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
</div> <!-- top -->
<hr class="footer"/>
<div class="footer">
    <img class="footer-logo" src="Ojing.svg" alt="Ojing"/>
    <div class="footer-text">
        JH-Toolkit v1.4.0 · Generated by Doxygen
    </div>
    <div class="footer-note">
        We primarily support embedded documentation views in IDEs (classic CLion).
        To ensure compatibility with embedded rendering, some example code in this
        documentation intentionally contains HTML entities.
        In certain cases, Doxygen does not unescape these entities correctly.
        This is a known limitation and currently has no workaround.
    </div>
</div>
</body>
</html>
